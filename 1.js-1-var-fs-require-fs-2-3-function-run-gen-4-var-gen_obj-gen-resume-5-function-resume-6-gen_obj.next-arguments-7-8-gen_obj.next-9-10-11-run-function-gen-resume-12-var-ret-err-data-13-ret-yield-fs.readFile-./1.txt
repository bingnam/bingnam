 1 var fs = require('fs');
 2 
 3 function run(gen) {
 4   var gen_obj = gen(resume);
 5   function resume() {
 6     gen_obj.next(arguments);
 7   }
 8   gen_obj.next();
 9 }
10 
11 run(function* gen(resume) {
12   var ret, err, data;
13   ret = yield fs.readFile('./test.txt', resume);
14   err = ret[0];
15   data = ret[1];
16   if (err) {
17     console.log(err);
18   } else {
19     console.log(data);
20   }
21 });
